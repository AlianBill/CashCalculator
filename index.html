<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Statistika vÃ½dajÅ¯</title>

  <!-- ZÃ¡kladnÃ­ styly -->
  <link rel="stylesheet" href="css/style.css">

  <!-- Styl pro jednotlivÃ© sekce -->
  <link rel="stylesheet" href="css/mainPage.css">
  <link rel="stylesheet" href="css/transaction.css">
  <link rel="stylesheet" href="css/modal.css">
  <link rel="stylesheet" href="css/statistics.css">
  <link rel="stylesheet" href="css/balance.css">
  <link rel="stylesheet" href="css/settings.css">
</head>
<body>

  <div class="container">
    <!-- Sidebar navigace -->
    <nav class="sidebar">
      <h2>ğŸ“Š Statistika vÃ½dajÅ¯</h2>
      <ul>
        <li><a href="/home">ğŸ  DomÅ¯</a></li>
        <li><a href="/stats">ğŸ“ˆ Statistiky</a></li>
        <li><a href="/balance">ğŸ’³ Balanc</a></li>
        <li><a href="/settings">âš™ï¸ NastavenÃ­</a></li>
      </ul>
    </nav>

    <!-- HlavnÃ­ obsah -->
    <main class="content">
      <header>
        <h1>VÃ­tejte!</h1>
        <p>DostupnÃ½ zÅ¯statek: <span id="balance"></span></p>
      </header>

    <!-- <section class="chart-section">
      <h2>RozdÄ›lenÃ­ vÃ½dajÅ¯ podle kategoriÃ­</h2>
      <svg id="pieChart" width="200" height="200" viewBox="0 0 200 200"></svg>
  </section>
  
  <div id="chartLegend" class="legend"></div> -->

    <!-- ğŸ“ˆ Statistiky â€“ pÅ™ehled podle mÄ›sÃ­ce -->
    <section id="statsPage" style="display: none;">
      <h2>ğŸ“ˆ Statistiky</h2>
    
      <!-- VÃ½bÄ›r mÄ›sÃ­ce -->
      <label for="monthSelect">Vyber mÄ›sÃ­c:</label>
      <select id="monthSelect"></select>
    
      <!-- PÅ™epÃ­naÄ pÅ™Ã­jmy / vÃ½daje -->
      <div class="toggle-type">
        <button id="showExpensesBtn" class="active">ğŸ’¸ VÃ½daje</button>
        <button id="showIncomesBtn">ğŸ’° PÅ™Ã­jmy</button>
      </div>
    
      <!-- Kontejner pro grafy -->
      <div class="charts-wrapper">
        <!-- KolÃ¡ÄovÃ½ graf -->
        <div class="chart-container">
          <h3 id="pieTitle">VÃ½daje podle kategoriÃ­</h3>
          <svg id="statsPieChart" width="200" height="200" viewBox="0 0 200 200"></svg>
          <div id="statsLegend" class="legend"></div>
        </div>
    
        <!-- SloupcovÃ½ graf -->
        <div class="chart-container">
          <h3 id="barTitle">VÃ½daje po dnech</h3>
          <canvas id="statsBarChart" width="400" height="200"></canvas>

          <div class="bar-legend" id="barLegendContainer"></div>
        </div>
      </div>
    </section>

    <!-- âš–ï¸ Balanc -->
    <section id="balancPage" style="display: none;">
      <h2>ğŸ“Š Balanc</h2>
    
      <div class="balanc-summary">
        <div class="balanc-box income-box">
          <h3>PÅ™Ã­jmy</h3>
          <p id="totalIncome">0 KÄ</p>
        </div>
        <div class="balanc-box expense-box">
          <h3>VÃ½daje</h3>
          <p id="totalExpense">0 KÄ</p>
        </div>
      </div>
    
      <div class="balanc-progress">
        <h3>Progres vÃ½dajÅ¯</h3>
        <div class="progress-bar">
          <div class="progress-fill" id="progressFill" style="width: 0%;"></div>
        </div>
        <p id="progressLabel">0%</p>
      </div>
    
      <div class="balanc-top">
        <h3>NejvÄ›tÅ¡Ã­ transakce</h3>
        <ul id="topTransactions"></ul>
      </div>
    </section>
    

    <section id="settingsPage" style="display: none;">
      <h2>âš™ï¸ NastavenÃ­</h2>
    
      <!-- PÅ™idÃ¡nÃ­ kategorie -->
      <div class="settings-section">
        <h3>ğŸ“ PÅ™idat novou kategorii</h3>
        <input type="text" id="newCategoryName" placeholder="NÃ¡zev kategorie">
        <div id="iconPicker" class="icon-picker">
          <label>Vyberte ikonu:</label>
          <div id="iconOptions" class="icon-options"></div>
        </div>
        <input type="hidden" id="newCategoryIcon">
        <button id="addCategoryBtn">â• PÅ™idat kategorii</button>
      </div>
    
      <!-- Seznam kategoriÃ­ -->
      <div class="settings-section">
        <h3>ğŸ“‹ Kategorie</h3>
        <ul id="categoryList" class="category-list"></ul>
      </div>
    
      <!-- Import / Export -->
      <div class="settings-section">
        <h3>ğŸ”„ Import / Export</h3>
        <button id="exportCategoriesBtn">â¬‡ï¸ Export to JSON</button>
        <input type="file" id="importCategoriesInput" accept=".json">
      </div>
    
      <!-- SmazÃ¡nÃ­ vÅ¡eho -->
      <div class="settings-section danger-zone">
        <h3>âš ï¸ Smazat vÅ¡e</h3>
        <button id="clearCategoriesBtn">ğŸ—‘ï¸ Smazat vÅ¡echny kategorie</button>
      </div>
    </section>
    


    <!-- PoslednÃ­ transakce -->
    <section class="transactions">
      <h2>Moje transakce</h2>
      <div class="filters">
        <label for="categoryFilter">Kategorie:</label>
        <select id="categoryFilter">
          <option value="all">VÅ¡echny</option>
          <option value="food">ğŸ” JÃ­dlo</option>
          <option value="transport">ğŸš— Doprava</option>
          <option value="shopping">ğŸ›’ NÃ¡kupy</option>
          <option value="salary">ğŸ’° VÃ½plata</option>
        </select>
      
        <label for="typeFilter">Typ:</label>
        <select id="typeFilter">
          <option value="all">VÅ¡e</option>
          <option value="income">PÅ™Ã­jmy</option>
          <option value="expense">VÃ½daje</option>
        </select>
      </div>
      <ul id="transactionList"></ul>
      <div id="paginationControls"></div>
    </section>

    <!-- TlaÄÃ­tko pro pÅ™idÃ¡nÃ­ transakce -->
    <button id="addTransactionBtn">â• PÅ™idat transakci</button>

    <button id="exportCsvBtn">â¬‡ï¸ Exportovat to CSV</button>


    <!-- ModÃ¡lnÃ­ okno -->
    <div id="transactionModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>PÅ™idat transakci</h2>

        <label for="amount">ÄŒÃ¡stka:</label>
        <input type="number" id="amount" placeholder="Zadejte ÄÃ¡stku">

        <label for="type">Typ:</label>
        <select id="type">
          <option value="income">ğŸ’° PÅ™Ã­jem</option>
          <option value="expense">ğŸ›’ VÃ½daj</option>
        </select>
        
        <label for="category">Kategorie:</label>
        <select id="category"></select>

        <label for="date">Datum:</label>
        <input type="date" id="date" max="">

        <button id="saveTransaction">UloÅ¾it</button>
        <button id="cancelTransaction">ZruÅ¡it</button>
      </div>
    </div>

  </main>
</div>

<!-- ğŸ“¦ JavaScript -->
<script src="js/utils.js"></script>
<script src="js/settings.js"></script>
<script src="js/mainPage.js"></script>
<script src="js/transaction.js"></script>
<script src="js/statistics.js"></script>
<script src="js/balance.js"></script>
<script src="js/script.js"></script>

</body>
</html>
